<template>
  <div class="container">
    <div class="step-header">
      <div class="step-info">æ­¥éª¤ 3/6ï¼šå¹²é¢„æ–¹æ¡ˆè®¾è®¡</div>
      <el-button @click="goHome" class="home-btn">
        <el-icon><HomeFilled /></el-icon>
        è¿”å›é¦–é¡µ
      </el-button>
    </div>

    <div class="content-card">
      <div class="design-intro">
        <div class="intro-card">
          <div class="intro-icon">ğŸ¯</div>
          <div class="intro-content">
            <h3>ä¸ªæ€§åŒ–å¹²é¢„æ–¹æ¡ˆ</h3>
            <p>åŸºäºå­¦ç”Ÿå…·ä½“æƒ…å†µï¼Œä¸ºæ‚¨é‡èº«å®šåˆ¶å¤šç»´åº¦å¹²é¢„ç­–ç•¥</p>
          </div>
        </div>
      </div>

      <el-row :gutter="30" class="main-content">
        <!-- å¯¼å¸ˆå¹²é¢„æ¨¡å— -->
        <el-col :span="12">
          <div class="intervention-module">
            <div class="module-header">
              <div class="header-icon">ğŸ‘¨â€ğŸ«</div>
              <div class="header-content">
                <h3>å¯¼å¸ˆå¹²é¢„ç­–ç•¥</h3>
                <p>é’ˆå¯¹'æƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›ä¸è¶³'çš„ä¸“ä¸šæ–¹æ³•</p>
              </div>
            </div>
            
            <div class="methods-container">
              <div class="method-item" :class="{ 'expanded': showDetails.method1 }">
                <div class="method-header" @click="toggleDetails('method1')">
                  <div class="method-info">
                    <div class="method-icon">â­</div>
                    <div class="method-title">
                      <h4>ä¼˜åŠ¿å¼ºåŒ–æ³•</h4>
                      <span class="method-subtitle">æ¯å¤©è®°å½•1ä»¶å­¦ç”Ÿåšå¾—å¥½çš„äº‹</span>
                    </div>
                  </div>
                  <el-button size="small" type="text" class="expand-btn">
                    <el-icon>
                      <ArrowDown v-if="!showDetails.method1" />
                      <ArrowUp v-else />
                    </el-icon>
                  </el-button>
                </div>
                <el-collapse-transition>
                  <div v-show="showDetails.method1" class="method-details">
                    <div class="detail-section">
                      <div class="detail-label">å®æ–½æ—¶æ®µ</div>
                      <div class="detail-content">ç­ä¼š / è¯¾åè°ˆå¿ƒ</div>
                    </div>
                    <div class="detail-section">
                      <div class="detail-label">å…·ä½“æ­¥éª¤</div>
                      <div class="detail-content">
                        <div class="step-list">
                          <div class="step-item">
                            <span class="step-number">1</span>
                            <span>å¼•å¯¼å­¦ç”Ÿå›å¿†å½“å¤©çš„ç§¯æè¡¨ç°</span>
                          </div>
                          <div class="step-item">
                            <span class="step-number">2</span>
                            <span>ç”¨ä¾¿ç­¾è®°å½•å…·ä½“è¡Œä¸ºå’Œæ„Ÿå—</span>
                          </div>
                          <div class="step-item">
                            <span class="step-number">3</span>
                            <span>æ¯å‘¨æ•´ç†æˆ"æˆé•¿å°å†Œå­"</span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="detail-section">
                      <div class="detail-label">é¢„æœŸæ•ˆæœ</div>
                      <div class="detail-content">
                        <el-tag type="success" size="small">æå‡è‡ªä¿¡å¿ƒ</el-tag>
                        <el-tag type="info" size="small">å¢å¼ºè‡ªæˆ‘è®¤çŸ¥</el-tag>
                      </div>
                    </div>
                  </div>
                </el-collapse-transition>
              </div>

              <div class="method-item" :class="{ 'expanded': showDetails.method2 }">
                <div class="method-header" @click="toggleDetails('method2')">
                  <div class="method-info">
                    <div class="method-icon">ğŸ§˜</div>
                    <div class="method-title">
                      <h4>æƒ…ç»ªè°ƒèŠ‚è®­ç»ƒ</h4>
                      <span class="method-subtitle">1åˆ†é’Ÿæ·±å‘¼å¸æ³•</span>
                    </div>
                  </div>
                  <el-button size="small" type="text" class="expand-btn">
                    <el-icon>
                      <ArrowDown v-if="!showDetails.method2" />
                      <ArrowUp v-else />
                    </el-icon>
                  </el-button>
                </div>
                <el-collapse-transition>
                  <div v-show="showDetails.method2" class="method-details">
                    <div class="detail-section">
                      <div class="detail-label">è¯æœ¯æ¨¡æ¿</div>
                      <div class="script-template">
                        <div class="script-icon">ğŸ’¬</div>
                        <div class="script-text">
                          "å½“ä½ æ„Ÿåˆ°ç”Ÿæ°”æ—¶ï¼Œè¯•ç€æ…¢æ…¢æ•°åˆ°5ï¼Œæ·±æ·±å¸ä¸€å£æ°”ï¼Œç„¶åæ…¢æ…¢å‘¼å‡ºæ¥ã€‚æƒ³è±¡æŠŠä¸å¼€å¿ƒçš„æƒ…ç»ªéƒ½å‘¼å‡ºå»äº†ã€‚"
                        </div>
                        <el-button size="small" type="primary" @click="copyScript">å¤åˆ¶</el-button>
                      </div>
                    </div>
                    <div class="detail-section">
                      <div class="detail-label">ç»ƒä¹ é¢‘ç‡</div>
                      <div class="detail-content">æ¯å¤©è¯¾å‰3åˆ†é’Ÿ</div>
                    </div>
                  </div>
                </el-collapse-transition>
              </div>

              <div class="method-item" :class="{ 'expanded': showDetails.method3 }">
                <div class="method-header" @click="toggleDetails('method3')">
                  <div class="method-info">
                    <div class="method-icon">ğŸ¤</div>
                    <div class="method-title">
                      <h4>ç¤¾äº¤æŠ€èƒ½è®­ç»ƒ</h4>
                      <span class="method-subtitle">åŒç†å¿ƒç»ƒä¹ </span>
                    </div>
                  </div>
                  <el-button size="small" type="text" class="expand-btn">
                    <el-icon>
                      <ArrowDown v-if="!showDetails.method3" />
                      <ArrowUp v-else />
                    </el-icon>
                  </el-button>
                </div>
                <el-collapse-transition>
                  <div v-show="showDetails.method3" class="method-details">
                    <div class="detail-section">
                      <div class="detail-label">æ´»åŠ¨è®¾è®¡</div>
                      <div class="detail-content">è§’è‰²äº’æ¢æ¸¸æˆ</div>
                    </div>
                    <div class="detail-section">
                      <div class="detail-label">å®æ–½æ–¹æ³•</div>
                      <div class="detail-content">è®©å­¦ç”Ÿä½“éªŒä¸åŒè§’è‰²çš„æ„Ÿå—</div>
                    </div>
                    <div class="detail-section">
                      <div class="detail-label">è¯„ä¼°æ ‡å‡†</div>
                      <div class="detail-content">èƒ½è¯´å‡ºå¯¹æ–¹çš„æ„Ÿå—</div>
                    </div>
                  </div>
                </el-collapse-transition>
              </div>
            </div>

            <div class="cooperation-section">
              <div class="cooperation-header">
                <div class="cooperation-icon">ğŸ‘¥</div>
                <div class="cooperation-title">åä½œæ”¯æŒ</div>
              </div>
              <div class="cooperation-content">
                <p class="cooperation-question">å¹²é¢„æ´»åŠ¨éœ€è¦å…¶ä»–è€å¸ˆé…åˆå—ï¼Ÿ</p>
                <el-checkbox-group v-model="interventionData.cooperation" class="cooperation-options">
                  <el-checkbox label="ç­ä¸»ä»»" class="cooperation-option">
                    <span class="option-text">ç­ä¸»ä»»</span>
                    <span class="option-desc">æ—¥å¸¸è¡Œä¸ºè§‚å¯Ÿ</span>
                  </el-checkbox>
                  <el-checkbox label="å¿ƒç†è€å¸ˆ" class="cooperation-option">
                    <span class="option-text">å¿ƒç†è€å¸ˆ</span>
                    <span class="option-desc">ä¸“ä¸šæŠ€æœ¯æ”¯æŒ</span>
                  </el-checkbox>
                  <el-checkbox label="å­¦ç§‘è€å¸ˆ" class="cooperation-option">
                    <span class="option-text">å­¦ç§‘è€å¸ˆ</span>
                    <span class="option-desc">è¯¾å ‚ç¯å¢ƒé…åˆ</span>
                  </el-checkbox>
                </el-checkbox-group>
              </div>
            </div>
          </div>
        </el-col>

        <!-- å®¶æ ¡æ²Ÿé€šæ¨¡å— -->
        <el-col :span="12">
          <div class="communication-module">
            <div class="module-header">
              <div class="header-icon">ğŸ </div>
              <div class="header-content">
                <h3>å®¶æ ¡ååŒç­–ç•¥</h3>
                <p>æ„å»ºå®¶æ ¡ä¸€ä½“åŒ–æ”¯æŒä½“ç³»</p>
              </div>
            </div>
            
            <div class="communication-sections">
              <div class="comm-section">
                <div class="section-header">
                  <div class="section-icon">ğŸ’¬</div>
                  <h4>æ²Ÿé€šè¯æœ¯æ¨¡æ¿</h4>
                </div>
                <div class="script-template enhanced">
                  <div class="script-header">
                    <span class="script-label">åˆ‡å…¥ç‚¹</span>
                    <span class="script-strategy">å…ˆåˆ†äº«è¿›æ­¥</span>
                  </div>
                  <div class="script-content">
                    "XXå¦ˆå¦ˆï¼Œæœ€è¿‘å‘ç°å­©å­åœ¨æƒ…ç»ªç®¡ç†æ–¹é¢æœ‰è¿›æ­¥ï¼Œæ¯”å¦‚æ˜¨å¤©é‡åˆ°å›°éš¾æ—¶èƒ½ä¸»åŠ¨æ·±å‘¼å¸è°ƒèŠ‚äº†ã€‚æˆ‘æƒ³å’Œæ‚¨åˆ†äº«ä¸€äº›åœ¨å®¶ä¹Ÿèƒ½ç”¨çš„æ–¹æ³•..."
                  </div>
                  <div class="script-actions">
                    <el-button size="small" type="primary" @click="copyScript">
                      <el-icon><CopyDocument /></el-icon>
                      å¤åˆ¶è¯æœ¯
                    </el-button>
                    <el-button size="small" @click="previewScript">
                      <el-icon><View /></el-icon>
                      é¢„è§ˆæ•ˆæœ
                    </el-button>
                  </div>
                </div>
              </div>

              <div class="comm-section">
                <div class="section-header">
                  <div class="section-icon">ğŸ“</div>
                  <h4>æ²Ÿé€šæ–¹å¼é€‰æ‹©</h4>
                </div>
                <div class="communication-methods">
                  <el-radio-group v-model="interventionData.communicationMethod" class="method-group">
                    <div class="method-option">
                      <el-radio label="phone" class="method-radio">
                        <div class="method-content">
                          <div class="method-icon">ğŸ“</div>
                          <div class="method-info">
                            <span class="method-name">ç”µè¯æ²Ÿé€š</span>
                            <span class="method-desc">å³æ—¶æ€§å¼ºï¼Œæƒ…æ„Ÿä¼ è¾¾å¥½</span>
                          </div>
                        </div>
                      </el-radio>
                    </div>
                    <div class="method-option">
                      <el-radio label="wechat" class="method-radio">
                        <div class="method-content">
                          <div class="method-icon">ğŸ’¬</div>
                          <div class="method-info">
                            <span class="method-name">å¾®ä¿¡äº¤æµ</span>
                            <span class="method-desc">ä¾¿æ·é«˜æ•ˆï¼Œå¯å‘é€èµ„æ–™</span>
                          </div>
                        </div>
                      </el-radio>
                    </div>
                    <div class="method-option">
                      <el-radio label="meeting" class="method-radio">
                        <div class="method-content">
                          <div class="method-icon">ğŸ‘¥</div>
                          <div class="method-info">
                            <span class="method-name">é¢è°ˆäº¤æµ</span>
                            <span class="method-desc">æ·±åº¦æ²Ÿé€šï¼Œå»ºç«‹ä¿¡ä»»</span>
                          </div>
                        </div>
                      </el-radio>
                    </div>
                    <div class="method-option">
                      <el-radio label="home-visit" class="method-radio">
                        <div class="method-content">
                          <div class="method-icon">ğŸ </div>
                          <div class="method-info">
                            <span class="method-name">å®¶è®¿äº¤æµ</span>
                            <span class="method-desc">äº†è§£å®¶åº­ç¯å¢ƒï¼Œå…¨é¢æ”¯æŒ</span>
                          </div>
                        </div>
                      </el-radio>
                    </div>
                  </el-radio-group>
                </div>
              </div>

              <div class="comm-section">
                <div class="section-header">
                  <div class="section-icon">ğŸ¯</div>
                  <h4>å®¶åº­é…åˆç­–ç•¥</h4>
                </div>
                <div class="strategy-grid">
                  <div class="strategy-card">
                    <div class="strategy-icon">â°</div>
                    <div class="strategy-content">
                      <h5>æƒ…ç»ªè¡¨è¾¾æ—¶é—´</h5>
                      <p>æ¯å¤©æ™šé¥­å15åˆ†é’Ÿ</p>
                    </div>
                  </div>
                  <div class="strategy-card">
                    <div class="strategy-icon">ğŸŒ¡ï¸</div>
                    <div class="strategy-content">
                      <h5>æƒ…ç»ªæ¸©åº¦è®¡</h5>
                      <p>ç”¨é¢œè‰²è¡¨ç¤ºæƒ…ç»ªçŠ¶æ€</p>
                    </div>
                  </div>
                  <div class="strategy-card">
                    <div class="strategy-icon">ğŸ’</div>
                    <div class="strategy-content">
                      <h5>æƒ…ç»ªæ€¥æ•‘åŒ…</h5>
                      <p>å‡†å¤‡å®‰æŠšç‰©å“å’Œæ´»åŠ¨</p>
                    </div>
                  </div>
                  <div class="strategy-card">
                    <div class="strategy-icon">ğŸ†</div>
                    <div class="strategy-content">
                      <h5>å¥–åŠ±æœºåˆ¶</h5>
                      <p>æƒ…ç»ªç®¡ç†å¥½æ—¶ç§¯æåé¦ˆ</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="comm-section">
                <div class="section-header">
                  <div class="section-icon">ğŸ“‹</div>
                  <h4>å®¶é•¿æŒ‡å¯¼è¦ç‚¹</h4>
                </div>
                <div class="guidance-tips">
                  <div class="tip-item tip-success">
                    <div class="tip-icon">âœ…</div>
                    <span>æ¥çº³å­©å­çš„æƒ…ç»ª</span>
                  </div>
                  <div class="tip-item tip-info">
                    <div class="tip-icon">ğŸ’¡</div>
                    <span>é¿å…ç«‹å³è®²é“ç†</span>
                  </div>
                  <div class="tip-item tip-warning">
                    <div class="tip-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div>
                    <span>ç¤ºèŒƒæ­£ç¡®çš„æƒ…ç»ªè¡¨è¾¾</span>
                  </div>
                  <div class="tip-item tip-default">
                    <div class="tip-icon">â³</div>
                    <span>ä¿æŒè€å¿ƒå’Œä¸€è‡´æ€§</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </el-col>
      </el-row>

      <div class="action-section">
        <div class="action-summary">
          <div class="summary-icon">ğŸ“Š</div>
          <div class="summary-content">
            <h4>æ–¹æ¡ˆæ¦‚è§ˆ</h4>
            <p>å·²ä¸ºæ‚¨è®¾è®¡ <strong>3é¡¹å¹²é¢„æ–¹æ³•</strong> + <strong>4ç§å®¶åº­ç­–ç•¥</strong>ï¼Œé¢„è®¡å®æ–½å‘¨æœŸ <strong>2-4å‘¨</strong></p>
          </div>
        </div>
        <div class="button-group">
          <el-button @click="prevStep" size="large">
            <el-icon><ArrowLeft /></el-icon>
            ä¸Šä¸€æ­¥
          </el-button>
          <el-button type="primary" @click="generatePlan" size="large">
            <el-icon><Document /></el-icon>
            ç”Ÿæˆå®Œæ•´æ–¹æ¡ˆ
          </el-button>
        </div>
      </div>
    </div>

    <!-- æ–¹æ¡ˆç”Ÿæˆç¡®è®¤å¼¹çª— -->
    <el-dialog v-model="planVisible" title="å®Œæ•´å¹²é¢„æ–¹æ¡ˆå·²ç”Ÿæˆ" width="600px" class="plan-dialog">
      <div class="plan-content">
        <div class="plan-success">
          <div class="success-icon">ğŸ‰</div>
          <h3>æ­å–œï¼å¹²é¢„æ–¹æ¡ˆç”ŸæˆæˆåŠŸ</h3>
          <p>å·²ä¸ºæ‚¨ç”Ÿæˆå®Œæ•´çš„ä¸ªæ€§åŒ–å¹²é¢„æ–¹æ¡ˆ</p>
        </div>
        
        <div class="plan-items">
          <div class="plan-item">
            <div class="item-icon">ğŸ“‹</div>
            <span>è¯¦ç»†å¹²é¢„æ­¥éª¤å’Œæ—¶é—´å®‰æ’</span>
          </div>
          <div class="plan-item">
            <div class="item-icon">ğŸ’¬</div>
            <span>å®Œæ•´çš„æ²Ÿé€šè¯æœ¯æ¨¡æ¿</span>
          </div>
          <div class="plan-item">
            <div class="item-icon">ğŸ‘¥</div>
            <span>å„æ–¹é…åˆåˆ†å·¥è¡¨</span>
          </div>
          <div class="plan-item">
            <div class="item-icon">ğŸ“Š</div>
            <span>æ•ˆæœè¯„ä¼°é‡è¡¨</span>
          </div>
          <div class="plan-item">
            <div class="item-icon">ğŸ“</div>
            <span>å®æ–½è®°å½•è¡¨æ ¼</span>
          </div>
        </div>
        
        <div class="plan-note">
          <el-icon><InfoFilled /></el-icon>
          <span>æ–¹æ¡ˆå°†ä»¥PDFæ ¼å¼æä¾›ä¸‹è½½ï¼Œæ–¹ä¾¿æ‚¨æ‰“å°å’Œåˆ†äº«</span>
        </div>
      </div>
      <template #footer>
        <div class="dialog-footer">
          <el-button @click="planVisible = false">ç¨åä¸‹è½½</el-button>
          <el-button type="primary" @click="downloadPlan">
            <el-icon><Download /></el-icon>
            ç«‹å³ä¸‹è½½
          </el-button>
          <el-button type="success" @click="nextStep">
            <el-icon><Right /></el-icon>
            è¿›å…¥å®æ–½è·Ÿè¸ª
          </el-button>
        </div>
      </template>
    </el-dialog>
  </div>
</template>

<script>
import { 
  HomeFilled, 
  ArrowDown, 
  ArrowUp, 
  CopyDocument, 
  View, 
  ArrowLeft, 
  Document, 
  InfoFilled, 
  Download, 
  Right 
} from '@element-plus/icons-vue'

export default {
  name: 'MentorStep3',
  components: {
    HomeFilled,
    ArrowDown,
    ArrowUp,
    CopyDocument,
    View,
    ArrowLeft,
    Document,
    InfoFilled,
    Download,
    Right
  },
  data() {
    return {
      showDetails: {
        method1: false,
        method2: false,
        method3: false
      },
      interventionData: {
        cooperation: [],
        communicationMethod: ''
      },
      planVisible: false
    }
  },
  methods: {
    goHome() {
      this.$router.push('/')
    },
    toggleDetails(method) {
      this.showDetails[method] = !this.showDetails[method]
    },
    copyScript() {
      this.$message.success('è¯æœ¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿')
    },
    previewScript() {
      this.$message.info('è¯æœ¯é¢„è§ˆåŠŸèƒ½å¼€å‘ä¸­...')
    },
    prevStep() {
      this.$router.push('/mentor/step2')
    },
    generatePlan() {
      this.planVisible = true
    },
    downloadPlan() {
      this.$message.success('æ–¹æ¡ˆä¸‹è½½ä¸­...')
      this.planVisible = false
    },
    nextStep() {
      this.planVisible = false
      this.$router.push('/mentor/step4')
    }
  }
}
</script>

<style scoped>
.container {
  padding: 20px;
  max-width: 1400px;
  margin: 0 auto;
}

.step-header {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  padding: 20px 30px;
  border-radius: 15px;
  margin-bottom: 30px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
  display: flex;
  justify-content: space-between;
  align-items: center;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.step-info {
  font-size: 1.3rem;
  font-weight: 700;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.home-btn {
  border-radius: 10px;
  font-weight: 600;
}

.content-card {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  border-radius: 20px;
  padding: 35px;
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(10px);
}

.design-intro {
  margin-bottom: 30px;
}

.intro-card {
  display: flex;
  align-items: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
}

.intro-icon {
  font-size: 2.5rem;
  margin-right: 20px;
}

.intro-content h3 {
  margin: 0 0 8px 0;
  font-size: 1.4rem;
  font-weight: 700;
}

.intro-content p {
  margin: 0;
  opacity: 0.9;
  font-size: 1rem;
}

.main-content {
  margin-bottom: 30px;
}

.intervention-module,
.communication-module {
  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
  border-radius: 20px;
  padding: 25px;
  height: 100%;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
  border: 2px solid #e8e8e8;
}

.module-header {
  display: flex;
  align-items: center;
  margin-bottom: 25px;
  padding-bottom: 20px;
  border-bottom: 2px solid #f0f0f0;
}

.header-icon {
  font-size: 2rem;
  margin-right: 15px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.header-content h3 {
  margin: 0 0 5px 0;
  font-size: 1.3rem;
  font-weight: 700;
  color: #2c3e50;
}

.header-content p {
  margin: 0;
  color: #666;
  font-size: 0.95rem;
}

.methods-container {
  margin-bottom: 25px;
}

.method-item {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  border-radius: 15px;
  margin-bottom: 15px;
  border: 2px solid #e8e8e8;
  transition: all 0.3s ease;
  overflow: hidden;
}

.method-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
  border-color: #667eea;
}

.method-item.expanded {
  border-color: #667eea;
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
}

.method-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  cursor: pointer;
}

.method-info {
  display: flex;
  align-items: center;
  flex: 1;
}

.method-icon {
  font-size: 1.8rem;
  margin-right: 15px;
}

.method-title h4 {
  margin: 0 0 5px 0;
  text-align: center;
  font-size: 1.1rem;
  font-weight: 700;
  color: #2c3e50;
}

.method-subtitle {
  margin: 0 0 5px 0;
  text-align: center;
  font-size: 0.9rem;
  color: #666;
}

.expand-btn {
  color: #667eea;
}

.method-details {
  padding: 0 20px 20px 20px;
  border-top: 1px solid #f0f0f0;
}

.detail-section {
  margin-bottom: 15px;
}

.detail-label {
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 8px;
  font-size: 0.95rem;
}

.detail-content {
  color: #555;
  line-height: 1.6;
}

.step-list {
  margin-top: 10px;
}

.step-item {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
  padding: 8px 0;
}

.step-number {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 50%;
  font-size: 0.8rem;
  font-weight: 600;
  margin-right: 12px;
  flex-shrink: 0;
}

.script-template {
  background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
  border-radius: 12px;
  padding: 15px;
  border-left: 4px solid #667eea;
  display: flex;
  align-items: center;
  gap: 12px;
}

.script-icon {
  font-size: 1.2rem;
}

.script-text {
  flex: 1;
  font-style: italic;
  color: #2c3e50;
  line-height: 1.5;
}

.cooperation-section {
  margin-top: 25px;
  padding-top: 20px;
  border-top: 2px solid #f0f0f0;
}

.cooperation-header {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
}

.cooperation-icon {
  font-size: 1.5rem;
  margin-right: 10px;
}

.cooperation-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: #2c3e50;
}

.cooperation-question {
  margin-bottom: 15px;
  color: #555;
  font-weight: 500;
}

.cooperation-options {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.cooperation-option {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

.option-text {
  font-weight: 600;
  color: #2c3e50;
}

.option-desc {
  font-size: 0.85rem;
  color: #666;
  margin-top: 2px;
}

.communication-sections {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.comm-section {
  background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
  border-radius: 12px;
  padding: 20px;
  border: 1px solid #e8e8e8;
}

.section-header {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
}

.section-icon {
  font-size: 1.3rem;
  margin-right: 10px;
}

.section-header h4 {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 600;
  color: #2c3e50;
}

.script-template.enhanced {
  background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
  border-left: 4px solid #667eea;
  padding: 20px;
  border-radius: 12px;
  display: block;
}

.script-header {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
  gap: 10px;
}

.script-label {
  font-weight: 600;
  color: #2c3e50;
}

.script-strategy {
  background: #667eea;
  color: white;
  padding: 4px 12px;
  border-radius: 15px;
  font-size: 0.85rem;
  font-weight: 500;
}

.script-content {
  font-style: italic;
  color: #2c3e50;
  line-height: 1.6;
  margin-bottom: 15px;
  padding: 10px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 8px;
}

.script-actions {
  display: flex;
  gap: 10px;
}

.communication-methods {
  margin-top: 10px;
}

.method-group {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.method-option {
  border: 2px solid #e8e8e8;
  border-radius: 10px;
  padding: 15px;
  transition: all 0.3s ease;
}

.method-option:hover {
  border-color: #667eea;
  background: rgba(102, 126, 234, 0.05);
}

.method-radio {
  width: 100%;
}

.method-content {
  display: flex;
  align-items: center;
  gap: 15px;
}

.method-content .method-icon {
  font-size: 1.5rem;
}

.method-info {
  display: flex;
  flex-direction: column;
}

.method-name {
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 2px;
}

.method-desc {
  font-size: 0.85rem;
  color: #666;
}

.strategy-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-top: 10px;
}

.strategy-card {
  display: flex;
  align-items: center;
  background: rgba(102, 126, 234, 0.05);
  border: 1px solid rgba(102, 126, 234, 0.2);
  border-radius: 10px;
  padding: 15px;
  transition: all 0.3s ease;
}

.strategy-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.2);
}

.strategy-icon {
  font-size: 1.5rem;
  margin-right: 12px;
}

.strategy-content h5 {
  margin: 0 0 4px 0;
  font-size: 0.95rem;
  font-weight: 600;
  color: #2c3e50;
}

.strategy-content p {
  margin: 0;
  font-size: 0.85rem;
  color: #666;
}

.guidance-tips {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 10px;
}

.tip-item {
  display: flex;
  align-items: center;
  padding: 8px 15px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
  gap: 8px;
}

.tip-success {
  background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
  color: #155724;
  border: 1px solid #c3e6cb;
}

.tip-info {
  background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);
  color: #0c5460;
  border: 1px solid #bee5eb;
}

.tip-warning {
  background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
  color: #856404;
  border: 1px solid #ffeaa7;
}

.tip-default {
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
  color: #495057;
  border: 1px solid #e9ecef;
}

.tip-icon {
  font-size: 1rem;
}

.action-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 30px;
  padding-top: 25px;
  border-top: 2px solid #f0f0f0;
}

.action-summary {
  display: flex;
  align-items: center;
  gap: 15px;
}

.summary-icon {
  font-size: 2rem;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.summary-content h4 {
  margin: 0 0 5px 0;
  font-size: 1.1rem;
  font-weight: 600;
  color: #2c3e50;
}

.summary-content p {
  margin: 0;
  color: #666;
  font-size: 0.95rem;
}

.button-group {
  display: flex;
  gap: 15px;
}

.plan-dialog .el-dialog__header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 20px 20px 0 0;
  padding: 20px 30px;
}

.plan-content {
  padding: 20px 0;
}

.plan-success {
  text-align: center;
  margin-bottom: 30px;
}

.success-icon {
  font-size: 3rem;
  margin-bottom: 15px;
}

.plan-success h3 {
  margin: 0 0 10px 0;
  font-size: 1.4rem;
  font-weight: 700;
  color: #2c3e50;
}

.plan-success p {
  margin: 0;
  color: #666;
  font-size: 1rem;
}

.plan-items {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin-bottom: 25px;
}

.plan-item {
  display: flex;
  align-items: center;
  padding: 12px 15px;
  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
  border-radius: 10px;
  border: 1px solid #e8e8e8;
  gap: 12px;
}

.item-icon {
  font-size: 1.2rem;
}

.plan-note {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 15px;
  background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
  border-radius: 10px;
  border-left: 4px solid #667eea;
  color: #2c3e50;
  font-size: 0.9rem;
}

.dialog-footer {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

@media (max-width: 768px) {
  .main-content {
    flex-direction: column;
  }
  
  .strategy-grid {
    grid-template-columns: 1fr;
  }
  
  .action-section {
    flex-direction: column;
    gap: 20px;
    text-align: center;
  }
  
  .button-group {
    width: 100%;
    justify-content: center;
  }
}
</style>
